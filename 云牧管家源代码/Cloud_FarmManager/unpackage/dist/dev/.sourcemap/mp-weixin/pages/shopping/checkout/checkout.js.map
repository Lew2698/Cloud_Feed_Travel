{"version":3,"file":"checkout.js","sources":["pages/shopping/checkout/checkout.vue","../../../../HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcHBpbmcvY2hlY2tvdXQvY2hlY2tvdXQudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"page-container\">\r\n\t\t<!-- 页面头部 -->\r\n\t\t<view class=\"page-header\">\r\n\t\t\t<view class=\"back-btn\" @click=\"goBack\">\r\n\t\t\t\t<image src=\"/static/icons/shopping icon/icon-arrow-left备份.svg\" class=\"icon-image\"></image>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"page-title\">确认订单</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 收货地址 -->\r\n\t\t<view class=\"address-section\" @click=\"navigateToAddress\">\r\n\t\t\t<view class=\"section-content\" v-if=\"selectedAddress && selectedAddress._id\">\r\n\t\t\t\t<AddressItem :address=\"selectedAddress\" :showActions=\"false\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"section-content no-address\" v-else>\r\n\t\t\t\t<image src=\"/static/icons/shopping icon/location.svg\" class=\"address-icon\"></image>\r\n\t\t\t\t<text class=\"add-address-text\">请选择收货地址</text>\r\n\t\t\t\t<image src=\"/static/icons/shopping icon/chevron-right.svg\" class=\"icon-image\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 订单商品 -->\r\n\t\t<view class=\"order-section\">\r\n\t\t\t<view class=\"section-title\">订单商品</view>\r\n\t\t\t<view class=\"section-content\">\r\n\t\t\t\t<CheckoutItem v-for=\"(item, index) in orderItems\" :key=\"index\" :item=\"item\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 金额详情 -->\r\n\t\t<view class=\"price-section\">\r\n\t\t\t<view class=\"section-title\">金额详情</view>\r\n\t\t\t<view class=\"section-content\">\r\n\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t<text class=\"price-label\">商品金额</text>\r\n\t\t\t\t\t<text class=\"price-value\">¥{{ totalProductPrice.toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t<text class=\"price-label\">运费</text>\r\n\t\t\t\t\t<text class=\"price-value\">¥{{ shippingFee.toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t<text class=\"price-label\">优惠券</text>\r\n\t\t\t\t\t<text class=\"price-value\">-¥{{ discountAmount.toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-item total\">\r\n\t\t\t\t\t<text class=\"price-label\">实付金额</text>\r\n\t\t\t\t\t<text class=\"price-value\">¥{{ totalAmount.toFixed(2) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 支付方式 -->\r\n\t\t<view class=\"payment-section\">\r\n\t\t\t<view class=\"section-title\">支付方式</view>\r\n\t\t\t<view class=\"section-content\">\r\n\t\t\t\t<radio-group @change=\"onPaymentChange\">\r\n\t\t\t\t\t<label class=\"payment-option\" v-for=\"(method, index) in paymentMethods\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"payment-option-info\">\r\n\t\t\t\t\t\t\t<image :src=\"method.icon\" class=\"payment-icon\"></image>\r\n\t\t\t\t\t\t\t<text class=\"payment-name\">{{ method.name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<radio :value=\"method.id\" :checked=\"method.id === selectedPayment\" color=\"#bc4749\" />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 订单备注 -->\r\n\t\t<view class=\"remark-section\">\r\n\t\t\t<view class=\"section-title\">订单备注</view>\r\n\t\t\t<view class=\"section-content\">\r\n\t\t\t\t<textarea class=\"remark-input\" placeholder=\"请输入订单备注（选填）\" v-model=\"orderRemark\" maxlength=\"100\" />\r\n\t\t\t\t<text class=\"remark-count\">{{ orderRemark.length }}/100</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部结算栏 -->\r\n\t\t<view class=\"checkout-bar\">\r\n\t\t\t<view class=\"total-price\">\r\n\t\t\t\t<text class=\"total-price-label\">合计：</text>\r\n\t\t\t\t<text class=\"total-price-value\">¥{{ totalAmount.toFixed(2) }}</text>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"checkout-btn\" @click=\"submitOrder\" :disabled=\"submitting\">\r\n\t\t\t\t{{ submitting ? '提交中...' : '提交订单' }}\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed,\r\n\t\tonMounted,\r\n\t\tonUnmounted\r\n\t} from 'vue';\r\n\timport { useCartStore } from '@/stores/cart.js';\r\n\timport AddressItem from '../../../components/AddressItem.vue';\r\n\timport CheckoutItem from '../../../components/CheckoutItem.vue';\r\n\timport { getDefaultAddress } from '@/api/addressService.js';\r\n\t\r\n\t// 使用Pinia store\r\n\tconst cartStore = useCartStore();\r\n\r\n\t// 订单商品数据 - 从购物车获取\r\n\tconst orderItems = ref([]);\r\n\r\n\t// 收货地址\r\n\tconst selectedAddress = ref(null);\r\n\tconst addressLoading = ref(false);\r\n\r\n\t// 支付方式\r\n\tconst paymentMethods = ref([{\r\n\t\t\tid: 'wxpay',\r\n\t\t\tname: '微信支付',\r\n\t\t\ticon: '/static/icons/shopping icon/wechat-pay.svg'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'alipay',\r\n\t\t\tname: '支付宝',\r\n\t\t\ticon: '/static/icons/shopping icon/alipay.svg'\r\n\t\t}\r\n\t]);\r\n\tconst selectedPayment = ref('wxpay');\r\n\r\n\t// 订单备注\r\n\tconst orderRemark = ref('');\r\n\r\n\t// 提交状态\r\n\tconst submitting = ref(false);\r\n\r\n\t// 费用计算\r\n\tconst shippingFee = ref(10);\r\n\tconst discountAmount = ref(5);\r\n\r\n\t// 计算商品总价\r\n\tconst totalProductPrice = computed(() => {\r\n\t\treturn orderItems.value.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n\t});\r\n\r\n\t// 计算订单总金额\r\n\tconst totalAmount = computed(() => {\r\n\t\treturn totalProductPrice.value + shippingFee.value - discountAmount.value;\r\n\t});\r\n\r\n\t// 地址选择事件监听\r\n\tconst handleAddressSelected = (address) => {\r\n\t\tselectedAddress.value = address;\r\n\t\tconsole.log('地址已选择:', address);\r\n\t};\r\n\r\n\t// 页面加载时执行\r\n\tonMounted(() => {\r\n\t\t// 获取购物车选中的商品和地址信息\r\n\t\tgetCartItems();\r\n\t\tloadDefaultAddress();\r\n\t\t\r\n\t\t// 监听地址选择事件\r\n\t\tuni.$on('addressSelected', handleAddressSelected);\r\n\t});\r\n\r\n\t// 页面卸载时清理监听\r\n\tonUnmounted(() => {\r\n\t\tuni.$off('addressSelected', handleAddressSelected);\r\n\t});\r\n\r\n\t// 获取购物车选中商品\r\n\tconst getCartItems = () => {\r\n\t\ttry {\r\n\t\t\t// 从本地存储获取结算商品数据\r\n\t\t\tconst checkoutItems = uni.getStorageSync('checkout_items');\r\n\t\t\tif (checkoutItems && checkoutItems.length > 0) {\r\n\t\t\t\t// 转换数据格式以适配结算页面\r\n\t\t\t\torderItems.value = checkoutItems.map(item => ({\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tname: item.name,\r\n\t\t\t\t\tspec: item.specs || '默认规格',\r\n\t\t\t\t\tprice: item.price,\r\n\t\t\t\t\tquantity: item.quantity,\r\n\t\t\t\t\timage: item.image\r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\t// 如果没有选中商品，返回购物车页面\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请先选择商品',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t}, 1500);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取结算商品失败:', error);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '获取商品信息失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// 获取默认地址\r\n\tconst loadDefaultAddress = async () => {\r\n\t\taddressLoading.value = true;\r\n\t\ttry {\r\n\t\t\tconst result = await getDefaultAddress();\r\n\t\t\t\r\n\t\t\tif (result.code === 200 && result.data) {\r\n\t\t\t\tselectedAddress.value = result.data;\r\n\t\t\t\tconsole.log('默认地址已加载:', result.data);\r\n\t\t\t} else if (result.code === 401) {\r\n\t\t\t\t// 未登录，提示用户登录\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '请先登录后再进行结算',\r\n\t\t\t\t\tconfirmText: '去登录',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// 没有默认地址，用户需要添加\r\n\t\t\t\tconsole.log('暂无默认地址');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取默认地址失败:', error);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '获取地址失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\taddressLoading.value = false;\r\n\t\t}\r\n\t};\r\n\r\n\t// 导航到地址管理页面\r\n\tconst navigateToAddress = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/shopping/checkout/address'\r\n\t\t});\r\n\t};\r\n\r\n\t// 返回上一页\r\n\tconst goBack = () => {\r\n\t\tuni.navigateBack();\r\n\t};\r\n\r\n\t// 支付方式变更\r\n\tconst onPaymentChange = (e) => {\r\n\t\tselectedPayment.value = e.detail.value;\r\n\t};\r\n\r\n\t// 提交订单\r\n\tconst submitOrder = async () => {\r\n\t\t// 验证必填信息\r\n\t\tif (!selectedAddress.value || !selectedAddress.value._id) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '请选择收货地址',\r\n\t\t\t\tconfirmText: '去选择',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tnavigateToAddress();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (orderItems.value.length === 0) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '购物车为空',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// 构建订单数据\r\n\t\tconst orderData = {\r\n\t\t\titems: orderItems.value,\r\n\t\t\taddress: selectedAddress.value,\r\n\t\t\tpayment: selectedPayment.value,\r\n\t\t\tremark: orderRemark.value,\r\n\t\t\ttotalAmount: totalAmount.value,\r\n\t\t\tshippingFee: shippingFee.value,\r\n\t\t\tdiscountAmount: discountAmount.value,\r\n\t\t\tcreateTime: new Date().toISOString()\r\n\t\t};\r\n\r\n\t\tconsole.log('提交订单:', orderData);\r\n\r\n\t\t// 提交订单\r\n\t\tsubmitting.value = true;\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '提交中...'\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\t// 模拟提交订单 - 实际项目中应调用订单管理云函数\r\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 2000));\r\n\t\t\t\r\n\t\t\t// 从购物车中移除已结算的商品\r\n\t\t\t// 获取当前购物车商品\r\n\t\t\tconst cartItems = cartStore.cartItems;\r\n\t\t\t\r\n\t\t\t// 找到已结算的商品并移除\r\n\t\t\torderItems.value.forEach(orderItem => {\r\n\t\t\t\tconst cartIndex = cartItems.findIndex(cartItem => \r\n\t\t\t\t\tcartItem.id === orderItem.id && cartItem.selected\r\n\t\t\t\t);\r\n\t\t\t\tif (cartIndex !== -1) {\r\n\t\t\t\t\tcartStore.removeItem(cartIndex);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 清除结算商品缓存\r\n\t\t\tuni.removeStorageSync('checkout_items');\r\n\t\t\t\r\n\t\t\tuni.hideLoading();\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '订单提交成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t});\r\n\r\n\t\t\t// 跳转到订单详情或支付页面\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/pages/order/detail/detail?orderId=123456'\r\n\t\t\t\t});\r\n\t\t\t}, 1500);\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('提交订单失败:', error);\r\n\t\t\tuni.hideLoading();\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '提交失败，请重试',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tsubmitting.value = false;\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '@/uni.scss';\r\n\r\n\tpage {\r\n\t\tbackground-color: $color-secondary;\r\n\t}\r\n\r\n\t.page-container {\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\r\n\t/* 页面头部 */\r\n\t.page-header {\r\n\t\tposition: relative;\r\n\t\theight: 90rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground-color: white;\r\n\t\tborder-bottom: 1rpx solid #f5f5f5;\r\n\t}\r\n\r\n\t.back-btn {\r\n\t\tposition: absolute;\r\n\t\tleft: 30rpx;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t.page-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: $color-dark;\r\n\t}\r\n\r\n\t.icon-image {\r\n\t\twidth: 36rpx;\r\n\t\theight: 36rpx;\r\n\t}\r\n\r\n\t/* 通用节模块样式 */\r\n\t.address-section,\r\n\t.order-section,\r\n\t.price-section,\r\n\t.payment-section,\r\n\t.remark-section {\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin: 20rpx 30rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: $color-dark;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t/* 地址部分 */\r\n\t.no-address {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 20rpx 0;\r\n\t\tborder: 2rpx dashed #e0e0e0;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 30rpx 20rpx;\r\n\t\tbackground-color: #fafafa;\r\n\t}\r\n\r\n\t.address-icon {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tmargin-right: 15rpx;\r\n\t\topacity: 0.6;\r\n\t}\r\n\r\n\t.add-address-text {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #666;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t/* 金额详情 */\r\n\t.price-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 16rpx 0;\r\n\t}\r\n\r\n\t.price-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.price-value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.price-item.total {\r\n\t\tmargin-top: 10rpx;\r\n\t\tpadding-top: 20rpx;\r\n\t\tborder-top: 1rpx dashed #eee;\r\n\t}\r\n\r\n\t.price-item.total .price-label {\r\n\t\tfont-weight: 600;\r\n\t\tcolor: $color-dark;\r\n\t}\r\n\r\n\t.price-item.total .price-value {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: $color-primary;\r\n\t}\r\n\r\n\t/* 支付方式 */\r\n\t.payment-option {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 0;\r\n\t\tborder-bottom: 1rpx solid #f5f5f5;\r\n\t}\r\n\r\n\t.payment-option:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.payment-option-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.payment-icon {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.payment-name {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: $color-dark;\r\n\t}\r\n\r\n\t/* 订单备注 */\r\n\t.remark-input {\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: $color-dark;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder: 1rpx solid #e0e0e0;\r\n\t}\r\n\r\n\t.remark-input:focus {\r\n\t\tborder-color: $color-primary;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.remark-count {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\ttext-align: right;\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t/* 底部结算栏 */\r\n\t.checkout-bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\theight: 100rpx;\r\n\t\tbackground-color: white;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.total-price {\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.total-price-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: $color-dark;\r\n\t}\r\n\r\n\t.total-price-value {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: $color-primary;\r\n\t}\r\n\r\n\t.checkout-btn {\r\n\t\tbackground: linear-gradient(135deg, $color-primary, $color-highlight);\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tborder-radius: 40rpx;\r\n\t\tpadding: 0 60rpx;\r\n\t\theight: 72rpx;\r\n\t\tline-height: 72rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 600;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(188, 71, 73, 0.3);\r\n\t}\r\n\r\n\t.checkout-btn[disabled] {\r\n\t\topacity: 0.6;\r\n\t\tbox-shadow: none;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/前端开发/云养丝路/云牧管家测试/Cloud_FarmManager/pages/shopping/checkout/checkout.vue'\nwx.createPage(MiniProgramPage)"],"names":["useCartStore","ref","computed","uni","onMounted","onUnmounted","getDefaultAddress","MiniProgramPage"],"mappings":"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"}