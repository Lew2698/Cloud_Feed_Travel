{"version":3,"file":"detail.js","sources":["pages/shopping/detail/detail.vue","../../../../HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcHBpbmcvZGV0YWlsL2RldGFpbC52dWU"],"sourcesContent":["<template>\n\t<view class=\"page-container\">\n\t\t<!-- 产品图片画廊 -->\n\t\t<view class=\"gallery-container\">\n\t\t\t<navigator open-type=\"navigateBack\" class=\"back-button\">\n\t\t\t\t<image src=\"/static/icons/shopping icon/左箭头.svg\" class=\"icon-svg\"></image>\n\t\t\t</navigator>\n\t\t\t<view class=\"share-button\" @click=\"shareProduct\">\n\t\t\t\t<image src=\"/static/icons/shopping icon/share-alt.svg\" class=\"icon-svg\"></image>\n\t\t\t</view>\n\t\t\t<swiper \n\t\t\t\tclass=\"gallery-swiper\" \n\t\t\t\tcircular \n\t\t\t\tindicator-dots \n\t\t\t\t:indicator-active-color=\"indicatorActiveColor\"\n\t\t\t\t:indicator-color=\"indicatorColor\"\n\t\t\t\t@change=\"onSwiperChange\"\n\t\t\t>\n\t\t\t\t<swiper-item v-for=\"(image, index) in product.images\" :key=\"index\">\n\t\t\t\t\t<image :src=\"image\" mode=\"aspectFill\" class=\"product-image\"></image>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t\n\t\t<!-- 产品信息部分 -->\n\t\t<view class=\"product-info-section\">\n\t\t\t<view class=\"price-section\">\n\t\t\t\t<text class=\"current-price\">¥{{product.price}}</text>\n\t\t\t\t<text class=\"original-price\" v-if=\"product.originalPrice\">¥{{product.originalPrice}}</text>\n\t\t\t\t<text class=\"label-new\" v-if=\"product.isNew\">新品</text>\n\t\t\t\t<text class=\"organic-badge\" v-if=\"product.isOrganic\">有机认证</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<text class=\"product-name\">{{product.name}}</text>\n\t\t\t<text class=\"product-slogan\">{{product.slogan}}</text>\n\t\t\t\n\t\t\t<view class=\"product-stats\">\n\t\t\t\t<view class=\"product-stat\">\n\t\t\t\t\t<text class=\"stat-number\">{{product.rating}}</text>\n\t\t\t\t\t<text class=\"stat-label\">评分</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"product-stat\">\n\t\t\t\t\t<text class=\"stat-number\">{{product.sales}}</text>\n\t\t\t\t\t<text class=\"stat-label\">销量</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"product-stat\">\n\t\t\t\t\t<text class=\"stat-number\">{{product.favorableRate}}%</text>\n\t\t\t\t\t<text class=\"stat-label\">好评率</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 区块链溯源 -->\n\t\t\t<view class=\"blockchain-trace\" @click=\"navigateToTrace\">\n\t\t\t  <view class=\"blockchain-icon\">\n\t\t\t\t<image class=\"trace-icon\" src=\"/static/icons/shopping icon/link.svg\"></image>\n\t\t\t  </view>\n\t\t\t  <view class=\"blockchain-info\">\n\t\t\t\t<text class=\"blockchain-title\">区块链溯源</text>\n\t\t\t\t<text class=\"blockchain-desc\">可追溯采集、加工、检验、物流全过程</text>\n\t\t\t  </view>\n\t\t\t  <image class=\"trace-icon\" src=\"/static/icons/activity icon/定位.svg\"></image>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 养殖户信息 -->\n\t\t\t<view class=\"farm-info\" @click=\"navigateToFarm\">\n\t\t\t\t<image :src=\"product.farmLogo\" class=\"farm-logo\"></image>\n\t\t\t\t<view>\n\t\t\t\t\t<text class=\"farm-name\">{{product.farmName}}</text>\n\t\t\t\t\t<view class=\"farm-location\">\n\t\t\t\t\t\t<image class=\"trace-icons\" src=\"/static/icons/activity icon/定位.svg\"></image>\n\t\t\t\t\t\t<text>{{product.farmLocation}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 产品详情标签 -->\n\t\t\t<view class=\"product-detail-tabs\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(tab, index) in detailTabs\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"product-detail-tab\"\n\t\t\t\t\t:class=\"{ active: currentTab === tab.id }\"\n\t\t\t\t\t@click=\"currentTab = tab.id\"\n\t\t\t\t>{{tab.name}}</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 内容区域 - 商品介绍 -->\n\t\t\t<block v-if=\"currentTab === 'intro'\">\n\t\t\t\t<view class=\"section-title\">商品介绍</view>\n\t\t\t\t<text class=\"product-description\" v-for=\"(desc, index) in product.description\" :key=\"index\">{{desc}}</text>\n\t\t\t</block>\n\t\t\t\n\t\t\t<!-- 内容区域 - 产品规格 -->\n\t\t\t<block v-if=\"currentTab === 'specs'\">\n\t\t\t\t<view class=\"section-title\">产品规格</view>\n\t\t\t\t<view class=\"product-specs\">\n\t\t\t\t\t<view class=\"spec-item\" v-for=\"(spec, index) in product.specs\" :key=\"index\">\n\t\t\t\t\t\t<text class=\"spec-label\">{{spec.label}}</text>\n\t\t\t\t\t\t<text class=\"spec-value\">{{spec.value}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"section-title\">产品图片</view>\n\t\t\t\t<view class=\"product-gallery\">\n\t\t\t\t\t<view class=\"gallery-item\" v-for=\"(image, index) in product.detailImages\" :key=\"index\">\n\t\t\t\t\t\t<image :src=\"image\" mode=\"aspectFill\" @click=\"previewImage(index)\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t\t\n\t\t\t<!-- 内容区域 - 用户评价 -->\n\t\t\t<block v-if=\"currentTab === 'reviews'\">\n\t\t\t\t<view class=\"section-title\">用户评价 ({{product.comments.length}})</view>\n\t\t\t\t<view class=\"comments-section\">\n\t\t\t\t\t<view class=\"comment-item\" v-for=\"(comment, index) in product.comments\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"comment-header\">\n\t\t\t\t\t\t\t<image :src=\"comment.avatar\" class=\"comment-avatar\"></image>\n\t\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t\t<text class=\"comment-user\">{{comment.username}}</text>\n\t\t\t\t\t\t\t\t<text class=\"comment-date\">{{comment.date}}</text>\n\t\t\t\t\t\t\t\t<view class=\"comment-rating\">\n\t\t\t\t\t\t\t\t\t<text class=\"iconfont icon-star\" v-for=\"i in 5\" :key=\"i\" :class=\"{ 'active': i <= comment.rating }\"></text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"comment-content\">{{comment.content}}</text>\n\t\t\t\t\t\t<view class=\"comment-images\" v-if=\"comment.images && comment.images.length\">\n\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\tv-for=\"(img, imgIndex) in comment.images\" \n\t\t\t\t\t\t\t\t:key=\"imgIndex\" \n\t\t\t\t\t\t\t\t:src=\"img\" \n\t\t\t\t\t\t\t\tclass=\"comment-image\"\n\t\t\t\t\t\t\t\t@click=\"previewCommentImage(comment.images, imgIndex)\"\n\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t\t\n\t\t\t<!-- 底部占位，确保内容不被底部操作栏遮挡 -->\n\t\t\t<view style=\"height: 150rpx;\"></view>\n\t\t</view>\n\t\t\n\t\t<!-- 底部操作栏 -->\n\t\t<view class=\"product-actions\">\n\t\t\t<view class=\"action-favorite\" @click=\"toggleFavorite\">\n\t\t\t\t<text class=\"iconfont\" :class=\"isFavorite ? 'icon-heart-solid' : 'icon-heart'\"></text>\n\t\t\t\t<text>收藏</text>\n\t\t\t</view>\n\t\t\t<view class=\"action-cart\" @click=\"navigateToCart\">\n\t\t\t\t<text class=\"iconfont icon-shopping-cart\"></text>\n\t\t\t\t<text>购物车</text>\n\t\t\t\t<text class=\"badge\" v-if=\"cartCount > 0\">{{cartCount}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"action-buttons\">\n\t\t\t\t<button class=\"btn-add-cart\" @click=\"addToCart\">加入购物车</button>\n\t\t\t\t<button class=\"btn btn-buy-now\" @click=\"buyNow\">立即购买</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport { ref, onMounted, getCurrentInstance } from 'vue'\n\timport { onLoad } from '@dcloudio/uni-app'\n\timport { getProductById } from '../../../api/productService.js'\n\t\n\tconst { proxy } = getCurrentInstance()\n\t\n\t// 响应式数据\n\tconst productId = ref(null)\n\tconst indicatorActiveColor = ref('#FFFFFF')\n\tconst indicatorColor = ref('rgba(255, 255, 255, 0.5)')\n\tconst currentTab = ref('intro')\n\tconst detailTabs = ref([\n\t\t{ id: 'intro', name: '商品详情' },\n\t\t{ id: 'specs', name: '规格参数' },\n\t\t{ id: 'reviews', name: '用户评价' }\n\t])\n\tconst isFavorite = ref(false)\n\tconst cartCount = ref(0)\n\tconst loading = ref(true)\n\t\n\t// 商品信息 - 默认空对象，避免模板渲染错误\n\tconst product = ref({\n\t\tid: 0,\n\t\tname: '',\n\t\tslogan: '',\n\t\tprice: '0',\n\t\toriginalPrice: '',\n\t\tisNew: false,\n\t\tisOrganic: false,\n\t\trating: '0',\n\t\tsales: '0',\n\t\tfavorableRate: 0,\n\t\timages: [],\n\t\tdescription: [],\n\t\tfarmId: 0,\n\t\tfarmName: '',\n\t\tfarmLogo: '',\n\t\tfarmLocation: '',\n\t\tspecs: [],\n\t\tdetailImages: [],\n\t\tcomments: []\n\t})\n\t\n\t// 页面加载时获取商品信息\n\tonLoad((options) => {\n\t\tif (options.id) {\n\t\t\tproductId.value = options.id // 云端ID是字符串，不需要parseInt\n\t\t\tloadProductDetail()\n\t\t}\n\t})\n\t\n\t// 页面显示时更新购物车数量\n\tonMounted(() => {\n\t\tupdateCartCount()\n\t})\n\t\n\t// 加载商品详情\n\tconst loadProductDetail = async () => {\n\t\ttry {\n\t\t\tloading.value = true\n\t\t\tconst productData = await getProductById(productId.value)\n\t\t\tif (productData) {\n\t\t\t\tproduct.value = productData\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '商品不存在',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t}, 1500)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('加载商品详情失败:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '加载商品失败',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.navigateBack()\n\t\t\t}, 1500)\n\t\t} finally {\n\t\t\tloading.value = false\n\t\t}\n\t}\n\t\n\t// 更新购物车数量\n\tconst updateCartCount = () => {\n\t\tcartCount.value = proxy.$cartStore.getTotalCount()\n\t}\n\t\n\t// 轮播图切换事件\n\tconst onSwiperChange = (e) => {\n\t\tconst current = e.detail.current\n\t\tconsole.log('当前索引:', current)\n\t}\n\t\n\t// 切换收藏状态\n\tconst toggleFavorite = () => {\n\t\tisFavorite.value = !isFavorite.value\n\t\tif (isFavorite.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '已加入收藏',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '已取消收藏',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\t\n\t// 加入购物车\n\tconst addToCart = () => {\n\t\tconst success = proxy.$cartStore.addToCart(product.value, 1)\n\t\tif (success) {\n\t\t\tupdateCartCount()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '已加入购物车',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t}\n\t}\n\t\n\t// 立即购买\n\tconst buyNow = () => {\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/shopping/order/confirm?productId=${product.value.id}&quantity=1`\n\t\t})\n\t}\n\t\n\t// 分享产品\n\tconst shareProduct = () => {\n\t\tuni.showActionSheet({\n\t\t\titemList: ['分享给朋友', '分享到朋友圈', '复制链接'],\n\t\t\tsuccess: (res) => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '分享成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\t\n\t// 预览产品详情图片\n\tconst previewImage = (index) => {\n\t\tuni.previewImage({\n\t\t\tcurrent: index,\n\t\t\turls: product.value.detailImages\n\t\t})\n\t}\n\t\n\t// 预览评论图片\n\tconst previewCommentImage = (images, index) => {\n\t\tuni.previewImage({\n\t\t\tcurrent: index,\n\t\t\turls: images\n\t\t})\n\t}\n\t\n\t// 跳转到区块链溯源页面\n\tconst navigateToTrace = () => {\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/shopping/detail/trace?id=${productId.value}`\n\t\t})\n\t}\n\t\n\t// 跳转到养殖户页面\n\tconst navigateToFarm = () => {\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/shopping/detail/farm?id=${product.value.farmId}`\n\t\t})\n\t}\n\t\n\t// 跳转到购物车\n\tconst navigateToCart = () => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/shopping/cart/cart'\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\">\n\t@import '@/uni.scss';\n\t\n\tpage {\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.page-container {\n\t\tpadding-bottom: 120rpx;\n\t}\n\t\n\t/* 产品图片轮播 */\n\t.gallery-container {\n\t\tposition: relative;\n\t\theight: 700rpx;\n\t\tbackground-color: #f5f5f5;\n\t\toverflow: hidden;\n\t}\n\t\n\t.gallery-swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.product-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t}\n\t\n\t.back-button {\n\t\tposition: absolute;\n\t\ttop: 30rpx;\n\t\tleft: 30rpx;\n\t\twidth: 72rpx;\n\t\theight: 72rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\n\t\tcolor: white;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 10;\n\t}\n\t\n\t.iconfont.icon-arrow-left:before {\n\t\tcontent: '\\f060';\n\t\tfont-size: 36rpx;\n\t}\n\t\n\t.share-button {\n\t\tposition: absolute;\n\t\ttop: 30rpx;\n\t\tright: 30rpx;\n\t\twidth: 72rpx;\n\t\theight: 72rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\n\t\tcolor: white;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 10;\n\t}\n\t\n\t.iconfont.icon-share-alt:before {\n\t\tcontent: '\\f1e0';\n\t\tfont-size: 36rpx;\n\t}\n\t\n\t/* 产品信息部分 */\n\t.product-info-section {\n\t\tpadding: 40rpx 30rpx;\n\t\tbackground-color: white;\n\t\tborder-radius: 40rpx 40rpx 0 0;\n\t\tmargin-top: -40rpx;\n\t\tposition: relative;\n\t\tz-index: 5;\n\t}\n\t\n\t.product-name {\n\t\tfont-size: 44rpx;\n\t\tfont-weight: 600;\n\t\tcolor: $color-dark;\n\t\tmargin-bottom: 20rpx;\n\t\tline-height: 1.3;\n\t\tdisplay: block;\n\t}\n\t\n\t.product-slogan {\n\t\tfont-size: 28rpx;\n\t\tcolor: #777;\n\t\tmargin-bottom: 30rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.price-section {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.current-price {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: 700;\n\t\tcolor: $color-primary;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.original-price {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t\ttext-decoration: line-through;\n\t}\n\t\n\t.label-new {\n\t\tbackground-color: $color-primary;\n\t\tcolor: white;\n\t\tfont-size: 24rpx;\n\t\tpadding: 4rpx 16rpx;\n\t\tborder-radius: 6rpx;\n\t\tmargin-left: 20rpx;\n\t}\n\t\n\t.organic-badge {\n\t\tbackground-color: #8BC34A;\n\t\tcolor: white;\n\t\tfont-size: 24rpx;\n\t\tpadding: 6rpx 20rpx;\n\t\tborder-radius: 30rpx;\n\t\tmargin-left: 20rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.product-stats {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 20rpx 0;\n\t\tborder-top: 1px solid #f0f0f0;\n\t\tborder-bottom: 1px solid #f0f0f0;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.product-stat {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\t\n\t.stat-number {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 600;\n\t\tcolor: $color-dark;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.stat-label {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: 600;\n\t\tcolor: $color-dark;\n\t\tmargin: 50rpx 0 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.section-title::before {\n\t\tcontent: '';\n\t\twidth: 8rpx;\n\t\theight: 36rpx;\n\t\tbackground-color: $color-primary;\n\t\tmargin-right: 20rpx;\n\t\tborder-radius: 4rpx;\n\t}\n\t\n\t.product-description {\n\t\tfont-size: 28rpx;\n\t\tcolor: #555;\n\t\tline-height: 1.6;\n\t\tmargin-bottom: 30rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t/* 区块链溯源 */\n\t.blockchain-trace {\n\t\tmargin-top: 30rpx;\n\t\tbackground-color: rgba(94, 100, 114, 0.1);\n\t\tpadding: 30rpx;\n\t\tborder-radius: 20rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.blockchain-icon {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tbackground-color: $color-dark;\n\t\tborder-radius: 20rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-right: 30rpx;\n\t\tcolor: white;\n\t}\n\t\n\t.iconfont.icon-link:before {\n\t\tcontent: '\\f0c1';\n\t\tfont-size: 36rpx;\n\t}\n\t\n\t.blockchain-info {\n\t\tflex: 1;\n\t}\n\t\n\t.blockchain-title {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tcolor: $color-dark;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.blockchain-desc {\n\t\tfont-size: 24rpx;\n\t\tcolor: #777;\n\t}\n\t\n\t/* 养殖户信息 */\n\t.farm-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground-color: rgba(174, 217, 224, 0.2);\n\t\tpadding: 30rpx;\n\t\tborder-radius: 20rpx;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.farm-logo {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 30rpx;\n\t\tobject-fit: cover;\n\t}\n\t\n\t.farm-name {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: $color-dark;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.farm-location {\n\t\tfont-size: 24rpx;\n\t\tcolor: #777;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.iconfont.icon-map-marker-alt:before {\n\t\tcontent: '\\f3c5';\n\t\tmargin-right: 10rpx;\n\t\tcolor: $color-primary;\n\t}\n\t\n\t/* 产品详情标签 */\n\t.product-detail-tabs {\n\t\tdisplay: flex;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 20rpx;\n\t\tmargin-bottom: 30rpx;\n\t\toverflow: hidden;\n\t}\n\t\n\t.product-detail-tab {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tpadding: 24rpx 0;\n\t\tfont-size: 28rpx;\n\t\tcolor: $color-dark;\n\t}\n\t\n\t.product-detail-tab.active {\n\t\tbackground-color: $color-primary;\n\t\tcolor: white;\n\t\tfont-weight: 500;\n\t}\n\t\n\t/* 产品规格 */\n\t.spec-item {\n\t\tdisplay: flex;\n\t\tpadding: 20rpx 0;\n\t\tborder-bottom: 1px solid #f0f0f0;\n\t}\n\t\n\t.spec-label {\n\t\twidth: 200rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #777;\n\t}\n\t\n\t.spec-value {\n\t\tflex: 1;\n\t\tfont-size: 28rpx;\n\t\tcolor: $color-dark;\n\t}\n\t\n\t/* 产品图片 */\n\t.product-gallery {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 20rpx;\n\t\tmargin-bottom: 50rpx;\n\t}\n\t\n\t.gallery-item {\n\t\twidth: calc(33.33% - 14rpx);\n\t\taspect-ratio: 1 / 1;\n\t\toverflow: hidden;\n\t\tborder-radius: 16rpx;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.gallery-item image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t}\n\t\n\t/* 评论部分 */\n\t.comments-section {\n\t\tmargin-bottom: 60rpx;\n\t}\n\t\n\t.comment-item {\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.comment-header {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.comment-avatar {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.comment-user {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: $color-dark;\n\t\tmargin-bottom: 6rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.comment-date {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tdisplay: block;\n\t}\n\t\n\t.comment-rating {\n\t\tdisplay: flex;\n\t\tmargin-top: 6rpx;\n\t}\n\t\n\t.iconfont.icon-star:before {\n\t\tcontent: '\\f005';\n\t\tcolor: #ccc;\n\t\tfont-size: 24rpx;\n\t\tmargin-right: 4rpx;\n\t}\n\t\n\t.iconfont.icon-star.active:before {\n\t\tcolor: #FFD700;\n\t}\n\t\n\t.comment-content {\n\t\tfont-size: 28rpx;\n\t\tcolor: #555;\n\t\tline-height: 1.5;\n\t\tmargin-bottom: 20rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.comment-images {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 16rpx;\n\t\tmargin-top: 20rpx;\n\t}\n\t\n\t.comment-image {\n\t\twidth: 140rpx;\n\t\theight: 140rpx;\n\t\tborder-radius: 10rpx;\n\t\tobject-fit: cover;\n\t}\n\t\n\t/* 底部操作栏 */\n\t.product-actions {\n\t\tdisplay: flex;\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: white;\n\t\tpadding: 24rpx 30rpx;\n\t\tbox-shadow: 0 -6rpx 20rpx rgba(0, 0, 0, 0.1);\n\t\tz-index: 100;\n\t}\n\t\n\t.action-favorite {\n\t\twidth: 100rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tfont-size: 24rpx;\n\t\tcolor: $color-dark;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.iconfont.icon-heart:before {\n\t\tcontent: '\\f004';\n\t\tfont-size: 40rpx;\n\t\tmargin-bottom: 6rpx;\n\t}\n\t\n\t.iconfont.icon-heart-solid:before {\n\t\tcontent: '\\f004';\n\t\tfont-size: 40rpx;\n\t\tmargin-bottom: 6rpx;\n\t\tcolor: $color-primary;\n\t}\n\t\n\t.action-cart {\n\t\twidth: 100rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tfont-size: 24rpx;\n\t\tcolor: $color-dark;\n\t\tmargin-right: 30rpx;\n\t\tposition: relative;\n\t}\n\t\n\t.iconfont.icon-shopping-cart:before {\n\t\tcontent: '\\f07a';\n\t\tfont-size: 40rpx;\n\t\tmargin-bottom: 6rpx;\n\t}\n\t\n\t.badge {\n\t\tposition: absolute;\n\t\ttop: -10rpx;\n\t\tright: 0;\n\t\tbackground-color: $color-primary;\n\t\tcolor: white;\n\t\tfont-size: 20rpx;\n\t\tpadding: 0 10rpx;\n\t\tborder-radius: 20rpx;\n\t\tmin-width: 36rpx;\n\t\ttext-align: center;\n\t}\n\t\n\t.action-buttons {\n\t\tdisplay: flex;\n\t\tflex: 1;\n\t}\n\t\n\t.btn-add-cart {\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t\tbackground-color: rgba(255, 166, 158, 0.2);\n\t\tcolor: $color-primary;\n\t\tborder: 2rpx solid $color-primary;\n\t}\n\t\n\t.btn-buy-now {\n\t\tflex: 1;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t\tbackground-color: $color-primary;\n\t\tcolor: white;\n\t}\n\t\n\t/* 修复菜单箭头 */\n\t.menu-arrow {\n\t\tcolor: #aaa;\n\t\tfont-size: 24rpx;\n\t}\n\t\n\t.iconfont.icon-chevron-right:before {\n\t\tcontent: '\\f054';\n\t}\n\t.icon-svg {\n\t  width: 40rpx;\n\t  height: 40rpx;\n\t}\n\t.trace-icon {\n\t  width: 45rpx;\n\t  height: 45rpx;\n\t}\n\t.trace-icons {\n\t  width: 30rpx;\n\t  height: 30rpx;\n\t}\n</style> ","import MiniProgramPage from 'D:/前端开发/云养丝路/云牧管家源代码/Cloud_FarmManager/pages/shopping/detail/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","ref","onLoad","onMounted","getProductById","uni","MiniProgramPage"],"mappings":";;;;;;;AAuKC,UAAM,EAAE,MAAO,IAAGA,iCAAoB;AAGtC,UAAM,YAAYC,cAAG,IAAC,IAAI;AAC1B,UAAM,uBAAuBA,cAAG,IAAC,SAAS;AAC1C,UAAM,iBAAiBA,cAAG,IAAC,0BAA0B;AACrD,UAAM,aAAaA,cAAG,IAAC,OAAO;AAC9B,UAAM,aAAaA,cAAAA,IAAI;AAAA,MACtB,EAAE,IAAI,SAAS,MAAM,OAAQ;AAAA,MAC7B,EAAE,IAAI,SAAS,MAAM,OAAQ;AAAA,MAC7B,EAAE,IAAI,WAAW,MAAM,OAAQ;AAAA,IACjC,CAAE;AACD,UAAM,aAAaA,cAAG,IAAC,KAAK;AAC5B,UAAM,YAAYA,cAAG,IAAC,CAAC;AACvB,UAAM,UAAUA,cAAG,IAAC,IAAI;AAGxB,UAAM,UAAUA,cAAAA,IAAI;AAAA,MACnB,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,eAAe;AAAA,MACf,OAAO;AAAA,MACP,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,eAAe;AAAA,MACf,QAAQ,CAAE;AAAA,MACV,aAAa,CAAE;AAAA,MACf,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,UAAU;AAAA,MACV,cAAc;AAAA,MACd,OAAO,CAAE;AAAA,MACT,cAAc,CAAE;AAAA,MAChB,UAAU,CAAE;AAAA,IACd,CAAE;AAGDC,kBAAM,OAAC,CAAC,YAAY;AACnB,UAAI,QAAQ,IAAI;AACf,kBAAU,QAAQ,QAAQ;AAC1B,0BAAmB;AAAA,MACnB;AAAA,IACH,CAAE;AAGDC,kBAAAA,UAAU,MAAM;AACf,sBAAiB;AAAA,IACnB,CAAE;AAGD,UAAM,oBAAoB,YAAY;AACrC,UAAI;AACH,gBAAQ,QAAQ;AAChB,cAAM,cAAc,MAAMC,kCAAe,UAAU,KAAK;AACxD,YAAI,aAAa;AAChB,kBAAQ,QAAQ;AAAA,QACpB,OAAU;AACNC,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACX,CAAK;AACD,qBAAW,MAAM;AAChBA,0BAAAA,MAAI,aAAc;AAAA,UAClB,GAAE,IAAI;AAAA,QACP;AAAA,MACD,SAAQ,OAAO;AACfA,sBAAAA,MAAc,MAAA,SAAA,2CAAA,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AACD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,aAAc;AAAA,QAClB,GAAE,IAAI;AAAA,MACV,UAAY;AACT,gBAAQ,QAAQ;AAAA,MAChB;AAAA,IACD;AAGD,UAAM,kBAAkB,MAAM;AAC7B,gBAAU,QAAQ,MAAM,WAAW,cAAe;AAAA,IAClD;AAGD,UAAM,iBAAiB,CAAC,MAAM;AAC7B,YAAM,UAAU,EAAE,OAAO;AACzBA,oBAAAA,MAAY,MAAA,OAAA,2CAAA,SAAS,OAAO;AAAA,IAC5B;AAGD,UAAM,iBAAiB,MAAM;AAC5B,iBAAW,QAAQ,CAAC,WAAW;AAC/B,UAAI,WAAW,OAAO;AACrBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AAAA,MACJ,OAAS;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IACD;AAGD,UAAM,YAAY,MAAM;AACvB,YAAM,UAAU,MAAM,WAAW,UAAU,QAAQ,OAAO,CAAC;AAC3D,UAAI,SAAS;AACZ,wBAAiB;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IACD;AAGD,UAAM,SAAS,MAAM;AACpBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,2CAA2C,QAAQ,MAAM,EAAE;AAAA,MACnE,CAAG;AAAA,IACD;AAGD,UAAM,eAAe,MAAM;AAC1BA,oBAAAA,MAAI,gBAAgB;AAAA,QACnB,UAAU,CAAC,SAAS,UAAU,MAAM;AAAA,QACpC,SAAS,CAAC,QAAQ;AACjBA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACX,CAAK;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;AAGD,UAAM,eAAe,CAAC,UAAU;AAC/BA,oBAAAA,MAAI,aAAa;AAAA,QAChB,SAAS;AAAA,QACT,MAAM,QAAQ,MAAM;AAAA,MACvB,CAAG;AAAA,IACD;AAGD,UAAM,sBAAsB,CAAC,QAAQ,UAAU;AAC9CA,oBAAAA,MAAI,aAAa;AAAA,QAChB,SAAS;AAAA,QACT,MAAM;AAAA,MACT,CAAG;AAAA,IACD;AAGD,UAAM,kBAAkB,MAAM;AAC7BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,mCAAmC,UAAU,KAAK;AAAA,MAC1D,CAAG;AAAA,IACD;AAGD,UAAM,iBAAiB,MAAM;AAC5BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,kCAAkC,QAAQ,MAAM,MAAM;AAAA,MAC9D,CAAG;AAAA,IACD;AAGD,UAAM,iBAAiB,MAAM;AAC5BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACR,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtVF,GAAG,WAAWC,SAAe;"}