{"version":3,"file":"activity.js","sources":["pages/activity/activity.vue","../../../../HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWN0aXZpdHkvYWN0aXZpdHkudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"page-container\">\r\n\t\t<!-- 活动页头部 -->\r\n\t\t<view class=\"activity-header\">\r\n\t\t\t<text class=\"activity-header-title\">活动中心</text>\r\n\t\t\t<text class=\"activity-header-subtitle\">探索瑶山风情，体验非遗文化</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"content\">\r\n\t\t\t<!-- 节日倒计时 -->\r\n\t\t\t<view class=\"festival-countdown\">\r\n\t\t\t\t<view class=\"countdown-info\">\r\n\t\t\t\t\t<text class=\"countdown-title\">瑶族盘王节</text>\r\n\t\t\t\t\t<text class=\"countdown-date\">2025年10月28日</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"countdown-timer\">\r\n\t\t\t\t\t<view class=\"countdown-unit\">\r\n\t\t\t\t\t\t<text class=\"countdown-number\">{{countdownData.days}}</text>\r\n\t\t\t\t\t\t<text class=\"countdown-label\">天</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"countdown-unit\">\r\n\t\t\t\t\t\t<text class=\"countdown-number\">{{countdownData.hours}}</text>\r\n\t\t\t\t\t\t<text class=\"countdown-label\">时</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"countdown-unit\">\r\n\t\t\t\t\t\t<text class=\"countdown-number\">{{countdownData.minutes}}</text>\r\n\t\t\t\t\t\t<text class=\"countdown-label\">分</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 活动标签筛选 -->\r\n\t\t\t<scroll-view scroll-x class=\"activity-tabs\">\r\n\t\t\t\t<view v-for=\"(tab, index) in activityTabs\" :key=\"index\" class=\"activity-tab\"\r\n\t\t\t\t\t:class=\"{ active: activeTab === tab }\" @click=\"activeTab = tab\">{{tab}}</view>\r\n\t\t\t</scroll-view>\r\n\r\n\t\t\t<!-- 活动列表 -->\r\n\t\t\t<view class=\"activity-list\">\r\n\t\t\t\t<!-- 活动项目 -->\r\n\t\t\t\t<ActivityCardVue v-for=\"(acti,index) in activities\" :activity=\"acti\" :key=\"index\" @signup=\"signupActivity\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tcomputed,\r\n\t\tonMounted,\r\n\t\tonUnmounted,\r\n\t\tref\r\n\t} from 'vue';\r\n\timport ActivityCardVue from '../../components/ActivityCard.vue';\r\n\tconst activityTabs = ref(['全部活动', '瑶族文化', '农事体验', '非遗传承', '田园采摘'])\r\n\tconst activityTab = ref(['全部活动'])\r\n\tconst countdownData = ref({\r\n\t\tdays: 15,\r\n\t\thours: 20,\r\n\t\tminutes: 45\r\n\t})\r\n\tconst activities = ref([{\r\n\t\t\tid: 1,\r\n\t\t\ttitle: '瑶族长鼓舞表演',\r\n\t\t\tdate: '2025-05-01 ~ 2025-05-07',\r\n\t\t\tlocation: '瑶山文化广场',\r\n\t\t\tdescription: '欣赏国家级非物质文化遗产瑶族长鼓舞，感受瑶族人民欢快奔放的民族精神。',\r\n\t\t\tprice: '98',\r\n\t\t\timage: '/static/static2/dancers-1787812_1280.jpg',\r\n\t\t\tbadge: '热门',\r\n\t\t\ttags: ['非遗文化', '瑶族舞蹈'],\r\n\t\t\tcategory: '瑶族文化'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttitle: '瑶山采茶体验',\r\n\t\t\tdate: '2025-04-25 ~ 2025-05-10',\r\n\t\t\tlocation: '瑶山生态茶园',\r\n\t\t\tdescription: '亲手采摘高山有机茶，学习传统制茶工艺，体验茶农生活，品尝新鲜茶汤。',\r\n\t\t\tprice: '128',\r\n\t\t\timage: '/static/static2/photo-1531971589569-0d9370cbe1e5.avif',\r\n\t\t\ttags: ['农事体验', '茶文化'],\r\n\t\t\tcategory: '农事体验'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\ttitle: '瑶族民俗文化节',\r\n\t\t\tdate: '2025-06-01 ~ 2025-06-07',\r\n\t\t\tlocation: '瑶山民族村',\r\n\t\t\tdescription: '参与瑶族盘王节庆典，体验瑶族传统婚礼，品尝瑶族美食，欣赏民族歌舞表演。',\r\n\t\t\tprice: '258',\r\n\t\t\timage: '/static/static2/photo-1515339760107-1952b7a08454.avif',\r\n\t\t\tbadge: '限时',\r\n\t\t\ttags: ['民俗文化', '瑶族节日'],\r\n\t\t\tcategory: '瑶族文化'\r\n\t\t}\r\n\t])\r\n\tconst filteredActivities = computed(() => {\r\n\t\tif (this.activeTab === '全部活动') {\r\n\t\t\treturn this.activities;\r\n\t\t} else {\r\n\t\t\treturn this.activities.filter(act => act.category === this.activeTab || act.tags.includes(this.activeTab));\r\n\t\t}\r\n\t})\r\n\t// const startCountdownTimer = () => {\r\n\t// \t// 实际项目中应该使用真实日期计算倒计时\r\n\t// \t// 这里仅作展示，使用模拟数据\r\n\t// \tthis.timer = setInterval(() => {\r\n\t// \t\tthis.countdownData.minutes--;\r\n\t// \t\tif (this.countdownData.minutes < 0) {\r\n\t// \t\t\tthis.countdownData.minutes = 59;\r\n\t// \t\t\tthis.countdownData.hours--;\r\n\t// \t\t\tif (this.countdownData.hours < 0) {\r\n\t// \t\t\t\tthis.countdownData.hours = 23;\r\n\t// \t\t\t\tthis.countdownData.days--;\r\n\t// \t\t\t\tif (this.countdownData.days < 0) {\r\n\t// \t\t\t\t\tclearInterval(this.timer);\r\n\t// \t\t\t\t\tthis.countdownData = {\r\n\t// \t\t\t\t\t\tdays: 0,\r\n\t// \t\t\t\t\t\thours: 0,\r\n\t// \t\t\t\t\t\tminutes: 0\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}, 60000) // 每分钟更新一次\r\n\t// }\r\n\tconst signupActivity = (activity) => {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '活动报名',\r\n\t\t\tcontent: `确认报名参加\"${activity.title}\"活动吗？费用：¥${activity.price}`,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '报名成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t// onMounted(() => {\r\n\t// \t// 启动计时器以更新倒计时\r\n\t// \tthis.startCountdownTimer();\r\n\t// })\r\n\t// onUnmounted(() => {\r\n\t// \t// 清除计时器\r\n\t// \tif (this.timer) {\r\n\t// \t\tclearInterval(this.timer);\r\n\t// \t}\r\n\t// })\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '@/uni.scss';\r\n\r\n\tpage {\r\n\t\tbackground-color: $color-secondary;\r\n\t}\r\n\r\n\t.page-container {\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\r\n\t/* 活动页头部 */\r\n\t.activity-header {\r\n\t\tbackground-color: $color-primary;\r\n\t\tcolor: white;\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\tborder-radius: 0 0 40rpx 40rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.activity-header-title {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.activity-header-subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\topacity: 0.9;\r\n\t}\r\n\r\n\t.content {\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n\r\n\t/* 节日倒计时 */\r\n\t.festival-countdown {\r\n\t\tbackground-color: $color-highlight;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.countdown-info {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.countdown-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: white;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.countdown-date {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: white;\r\n\t\topacity: 0.9;\r\n\t}\r\n\r\n\t.countdown-timer {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.countdown-unit {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t.countdown-number {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: $color-dark;\r\n\t}\r\n\r\n\t.countdown-label {\r\n\t\tfont-size: 20rpx;\r\n\t\tcolor: #777;\r\n\t}\r\n\r\n\t/* 活动标签筛选 */\r\n\t.activity-tabs {\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(94, 100, 114, 0.1);\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t.activity-tab {\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 500;\r\n\t\twhite-space: nowrap;\r\n\t\tcolor: $color-dark;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.activity-tab.active {\r\n\t\tcolor: $color-primary;\r\n\t}\r\n\r\n\t.activity-tab.active::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 20%;\r\n\t\twidth: 60%;\r\n\t\theight: 6rpx;\r\n\t\tbackground-color: $color-primary;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t/* 活动列表 */\r\n\t.activity-card {\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tbox-shadow: 0 6rpx 20rpx rgba(94, 100, 114, 0.1);\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.activity-image {\r\n\t\twidth: 100%;\r\n\t\theight: 360rpx;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\r\n\t.activity-content {\r\n\t\tpadding: 30rpx;\r\n\t}\r\n\r\n\t.activity-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tcolor: $color-dark;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.activity-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.activity-date {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #777;\r\n\t\tmargin-right: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.iconfont.icon-calendar:before {\r\n\t\tcontent: '\\f133';\r\n\t\tmargin-right: 10rpx;\r\n\t\tcolor: $color-primary;\r\n\t}\r\n\r\n\t.activity-location {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #777;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.iconfont.icon-location:before {\r\n\t\tcontent: '\\f3c5';\r\n\t\tmargin-right: 10rpx;\r\n\t\tcolor: $color-primary;\r\n\t}\r\n\r\n\t.activity-description {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #555;\r\n\t\tline-height: 1.5;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.activity-tags {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.activity-tag {\r\n\t\tfont-size: 24rpx;\r\n\t\tmargin-right: 16rpx;\r\n\t\tbackground-color: rgba(174, 217, 224, 0.2);\r\n\t\tcolor: $color-highlight;\r\n\t\tpadding: 6rpx 20rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\r\n\t.activity-footer {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.activity-price {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: $color-primary;\r\n\t}\r\n\r\n\t.activity-badge {\r\n\t\tposition: absolute;\r\n\t\ttop: 30rpx;\r\n\t\tright: 30rpx;\r\n\t\tbackground-color: $color-primary;\r\n\t\tcolor: white;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: 500;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.icon-image {\r\n\t\twidth: 30rpx;\r\n\t\theight: 30rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tmargin: 0;\r\n\t\tbackground-color: $color-primary;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 5rpx 40rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/前端开发/云养丝路/云牧管家测试/Cloud_FarmManager/pages/activity/activity.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","MiniProgramPage"],"mappings":";;;;;AAqDC,MAAM,kBAAkB,MAAW;;;;AACnC,UAAM,eAAeA,cAAG,IAAC,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,MAAM,CAAC;AAC7CA,kBAAG,IAAC,CAAC,MAAM,CAAC;AAChC,UAAM,gBAAgBA,cAAAA,IAAI;AAAA,MACzB,MAAM;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA,IACX,CAAE;AACD,UAAM,aAAaA,cAAAA,IAAI;AAAA,MAAC;AAAA,QACtB,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,QACV,aAAa;AAAA,QACb,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,QACP,MAAM,CAAC,QAAQ,MAAM;AAAA,QACrB,UAAU;AAAA,MACV;AAAA,MACD;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,QACV,aAAa;AAAA,QACb,OAAO;AAAA,QACP,OAAO;AAAA,QACP,MAAM,CAAC,QAAQ,KAAK;AAAA,QACpB,UAAU;AAAA,MACV;AAAA,MACD;AAAA,QACC,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,QACV,aAAa;AAAA,QACb,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,QACP,MAAM,CAAC,QAAQ,MAAM;AAAA,QACrB,UAAU;AAAA,MACV;AAAA,IACH,CAAE;AAC0BC,kBAAAA,SAAS,MAAM;AACzC,UAAI,KAAK,cAAc,QAAQ;AAC9B,eAAO,KAAK;AAAA,MACf,OAAS;AACN,eAAO,KAAK,WAAW,OAAO,SAAO,IAAI,aAAa,KAAK,aAAa,IAAI,KAAK,SAAS,KAAK,SAAS,CAAC;AAAA,MACzG;AAAA,IACH,CAAE;AAwBD,UAAM,iBAAiB,CAAC,aAAa;AACpCC,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS,UAAU,SAAS,KAAK,YAAY,SAAS,KAAK;AAAA,QAC3D,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChBA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACZ,CAAM;AAAA,UACD;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3IF,GAAG,WAAWC,SAAe;"}